<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumah-Kantor Study Form</title>


    <!-- Mapbox -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css' rel='stylesheet' />

    <!-- Bootstrap -->
    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
    <link href='css/style.css' rel='stylesheet' />

</head>

<body>
    <div class="container">

        <div class="jumbotron">
            <img src="img/header.jpeg" width="100%" style="border-radius: 10px;"><br><br>
            <h2>Studi Mobilitas Kantor-Rumah</h2>
            <h4 style="color: red; font-style: italic;">Klaster perkantoran menjadi titik baru penyebaran COVID-19?</h4>
            <br>
            <p>
                Setidaknya ada 90 perkantoran di DKI Jakarta yang menjadi klaster penyebaran COVID-19, menurut Dewi Nur
                Aisyah, Tim Pakar Satgas Penanganan COVID-19. Setidaknya 459 orang dinyatakan positif dari di sana.
                (Tirto.id, 29/07/2020).
            </p>
            <p>
                DKI Jakarta sebagai pusat perkantoran di kawasan metropolitan Jabodetabek menjadi hub bagi pegawai baik
                negeri swasta yang bertempat tinggal dari kota/kabupaten di sekitarnya. Orang yang bekerja satu Gedung
                dengan kita (baik satu kantor maupun tidak) bisa berasal dari lokasi yang beragam. Mereka juga
                menggunakan
                moda transportasi yang beragam dari mulai kendaraan pribadi dan umum seperti KRL, MRT, Bus, dan lainnya.
            </p>
            <p>
                Tingginya frekuensi pertemuan dengan beragam orang dari berbagai wilayah pada satu tempat dapat
                meningkatkan
                potensi tertular dan menularkan penyakit Covid-19. Oleh karena itu, kami melakukan survei
                Origin-Destination
                (Rumah-Kantor) dan penggunaan moda transportasi bagi pekerja yang bekerja di kawasan Jabodetak. Data dan
                informasi yang dikumpulkan akan dipublikasikan agar meningkatkan kewaspadaan dan mitigasi teman-teman
                sekalian dalam bekerja. Survei ini dapat diisi dalam waktu 3-5 menit
            </p>

            Terima kasih. <br>

            Tim peneliti,<br><br>

            Rizki Fadhilah Anandika<br>
            Atika Almira<br>
            Hanfie Vandanu

            <hr class="my-4">
            <a target="_blank" class="btn btn-secondary btn-block"
                href="https://docs.google.com/spreadsheets/d/1bkU2ixjqkYyfFzd-dLJuY98RDzt67H-LPscZav2OhjM/edit?usp=sharing"
                role="button">Lihat hasil form</a>
        </div>
        <form id="form" name="submit-to-google-sheet">
            <h5><span class="badge badge-primary ">Profil Diri</span></h5>
            <hr>

            <div class="form-group">
                <label for="age">Usia</label>
                <input type="number" class="form-control" name="age" id="age" placeholder="" required>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="occupation">Jenis Pekerjaan</label>
                    <select class="form-control" name="occupation" id="occupation" onchange="selectOccupation()"
                        required>
                        <option>Pegawai Negeri</option>
                        <option>Pegawai Swasta</option>
                        <option>Tenaga Medis</option>
                        <option>Polisi/TNI</option>
                        <option>Wiraswasta</option>
                        <option>Lainnya</option>
                    </select>
                </div>
                <div class="form-group col-md-12">
                    <label for="other_occupation">Pekerjaan lainnya</label>
                    <input type="text" class="form-control" name="other_occupation" id="other_occupation" placeholder=""
                        disabled>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="start_work">Sudah mulai ke kantor?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="start_work" id="sudahKeKantor" value="true"
                            onclick="selectFrequency()" required>
                        <label class="form-check-label" for="sudahKeKantor">
                            Sudah
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="start_work" id="belumKeKantor" value="false"
                            onclick="selectFrequency()">
                        <label class="form-check-label" for="belumKeKantor">
                            Belum
                        </label>
                    </div>
                </div>
                <div class="form-group col-md-12">
                    <label for="work_frequency">Frequensi kamu ke tempat kerja?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="work_frequency" id="less" value="≤3"
                            disabled>
                        <label class="form-check-label" for="less">
                            ≤ 3 hari/minggu
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="work_frequency" id="more" value=">3"
                            disabled>
                        <label class="form-check-label" for="more">
                            > 3 hari/minggu
                        </label>
                    </div>
                </div>
            </div>
            <br>
            <h5><span class="badge badge-primary">Profil Tempat Tinggal</span></h5>
            <hr>

            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="surrounding_environment">Lingkungan Tempat Tinggal</label>
                    <select class="form-control" name="surrounding_environment" id="surrounding_environment" required>
                        <option>Kompleks Perumahan</option>
                        <option>Permukiman Padat</option>
                        <option>Apartemen</option>
                        <option>Lainnya</option>
                    </select>
                </div>
                <div class="form-group col-md-12">
                    <label for="house_type">Jenis Tempat Tinggal</label>
                    <select class="form-control" name="house_type" id="house_type" required>
                        <option>Rumah Tapak</option>
                        <option>Apartemen Bertingkat</option>
                        <option>Kamar Kosan</option>
                    </select>
                </div>

            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="total_people">Jumlah orang yang tinggal bersama</label>
                    <input type="text" class="form-control" name="total_people" id="total_people"
                        placeholder="contoh: 5" required>
                </div>
                <div class="form-group col-md-12">
                    <label for="vulnerable_group">Apa kamu tinggal dengan balita, lansia, dan atau Ibu Hamil?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="vulnerable_group" id="vulnerable_yes"
                            value="Ya">
                        <label class="form-check-label" for="vulnerable_yes">
                            Ya
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="vulnerable_group" id="vulnerable_no"
                            value="Tidak">
                        <label class="form-check-label" for="vulnerable_no">
                            Tidak
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label for="total_trip">Jumlah perjalanan (trip) menggunakan transportasi publik selama satu
                        minggu</label>
                    <input type="number" class="form-control" name="total_trip" id="total_trip" placeholder="contoh: 14"
                        required>
                    <small>Trip: perjalanan yang dilakukan baik pada lingkup dalam dan lintas kota</small>
                </div>
                <div class="form-group col-md-12">
                    <label for="transport_type">Apa transportasi yang kamu gunakan?</label>

                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="krl"
                            id="transport_type">
                        <label class="form-check-label" for="krl">
                            KRL (Commuter Line)
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="mrt" id="mrt">
                        <label class="form-check-label" for="mrt">
                            MRT
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="lrt" id="lrt">
                        <label class="form-check-label" for="lrt">
                            LRT
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="bus" id="bus">
                        <label class="form-check-label" for="bus">
                            Bus (APTB, Transjakarta, dan lainnya)
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="online"
                            id="online">
                        <label class="form-check-label" for="online">
                            Online transportation (Grab/Gojek)
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="mobil" id="mobil">
                        <label class="form-check-label" for="mobil">
                            Mobil (pribadi)
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="transport_type" type="checkbox" value="motor" id="motor">
                        <label class="form-check-label" for="motor">
                            Motor (pribadi)
                        </label>
                    </div>
                </div>
            </div>
            <br>
            <h5><span class="badge badge-primary">Profil Tempat Bekerja</span></h5>
            <hr>
            <div class="form-group col-md-12">
                <label for="workplace">Jenis lokasi tempat bekerja</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="workplace" id="workplace_kantor" value="kantor">
                    <label class="form-check-label" for="workplace_kantor">
                        Kantor
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="workplace" id="workplace_public" value="public">
                    <label class="form-check-label" for="workplace_public">
                        Tempat Publik (Mall, Café, Stasiun, Bandara, dll)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="workplace" id="workplace_health" value="health">
                    <label class="form-check-label" for="workplace_health">
                        Fasilitas Kesehatan (Rumah sakit, puskesmas, dll)
                    </label>
                </div>
            </div>

            <br>
            <h5><span class="badge badge-primary">Mobilitas ke tempat bekerja</span></h5>
            <hr>
            <div class="form-group">
                <small>[kelurahan, kota]</small><br>
                <label for="origin">Area tempat tinggal* (tunjuk lokasi pada peta)</label>
                <input type="text" class="form-control" name="origin" id="origin" readonly required>
                <small>*tingkat kedetailan lokasi di level kelurahan, form tidak menyimpan titik lokasi
                    sesungguhnya</small>
                <div id='originMap' style='width: 100%; height: 300px;border-radius: 10px;margin-top: 10px;'></div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <small></small><br>
                    <label for="destination_building">Nama gedung tempat bekerja(Jika ada)</label>
                    <input type="text" class="form-control" name="destination_building" id="destination_building"
                        placeholder="contoh: Menara A">
                </div>
                <div class="form-group col-md-6">
                    <small>[latitude, longitude]</small><br>
                    <label for="destination">Lokasi tempat bekerja (tunjuk lokasi pada peta)</label>
                    <input type="text" class="form-control" name="destination" id="destination" readonly required>
                </div>

                <div id='destinationMap' style='width: 100%; height: 300px;border-radius: 10px;margin-top: 10px;'></div>
            </div>
            <hr><br>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <h4>Voucher Giveaway</h4>
                    <p>Kami akan membagikan voucher ovo/gopay bagi peserta survey yang beruntung, untuk berpartisipasi
                        silahkan isi nomor handphone di kolom berikut</p>
                </div>
                <div class="form-group col-md-6">
                    <label for="phone_number">Nomor Handphone</label>
                    <input type="number" class="form-control" name="phone_number" id="phone_number" placeholder="">
                    <small>Opsional, data nomor handphone tidak akan dipublish</small>
                </div>
            </div>
            <hr>
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="gridCheck" required>
                    <label class="form-check-label" for="gridCheck">
                        Saya telah mengisi data dengan benar untuk membantu memberikan informasi kewaspadaan Covid-19
                        yang lebih baik.
                    </label>
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Submit</button>
        </form>
        <br>
    </div>

    <script src='js/main.js'></script>

    <script>
        const phoneURL =
            'https://script.google.com/macros/s/AKfycbzK-0dOcL0kf_IdoL6GCICd4byIHJdLvbN4YbSk3wJXPsQeLWhB/exec'


        const scriptURL =
            'https://script.google.com/macros/s/AKfycbyq-jz2lLLrqyFRlCVXAcEEXK1KU2qs8VXcXZ_F8sVeuXv_1EjX/exec'
        const form = document.forms['submit-to-google-sheet']

        form.addEventListener('submit', e => {
            
            $('#form').hide()

            transportType();
            e.preventDefault()
            fetch(scriptURL, {
                    method: 'POST',
                    body: new FormData(form)
                })
                .then(response => function () {
                    console.log(response)
                })
                .catch(error => console.error('Error!', error.message))

            alert('The form has been successfully submitted ')


            fetch(phoneURL, {
                    method: 'POST',
                    body: new FormData(form)
                })
                .then(response => function () {
                    console.log(response)
                })
                .catch(error => console.error('Error!', error.message))

            $('#form')[0].reset();

        })
    </script>

</body>

</html>